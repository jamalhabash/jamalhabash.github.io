<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">
<html>
<!-- Hotjar Tracking Code for jamalhabash.ca -->


<head>
    <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:849781,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
<title>Vehicle Detection - Jamal Habash</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<base >
<style type="text/css">
	@import url('reset.css');
	@import url('style.css');
</style>
<link rel="shortcut icon" href="favicon.png" type="image/png">
        <link rel="prev" href="Stop-Sign-Detection.html">
        <link rel="next" href="types-and-typeclasses.html">
<link type="text/css" rel="stylesheet" href="sh/Styles/SyntaxHighlighter.css">
<link href="rss.php" rel="alternate" type="application/rss+xml" title="Vehicle Detection">
</head>
<body class="introcontent">
<div class="bgwrapper">
    <div id="content">
                <div class="footdiv" style="margin-bottom:25px;">
                <ul>
                    <li style="text-align:left">
                                                        <a href="Stop-Sign-Detection.html" class="prevlink">Stop Sign Detection</a>
                                            </li>
                    <li style="text-align:center">
                        <a href="chapters.html">Table of contents</a>
                    </li>
                    <li style="text-align:right">
                                                        <a href="Lane-Detection.html" class="nxtlink">Lane Detection</a>
                                            </li>
                </ul>
            </div>
        <h1 style="margin-left:-3px">Vehicle Detection & Tracking</h1>

<a name="Objectives"></a>

<h2>Objectives</h2>
<p>

My objective was to develop an improved vehicle detection algorithm with the ability to detect and track multiple vehicles within a camera frame. 

Previous attempts to develop a vehicle detection system were marginly successful. Specifically, using Matlab and OpenCV, we were able to develop a good vehicle detector based on HOG features. The area where this detection system fell short was in tracking and identifying multiple vehicles as they moved throughout a frame. 

</p>

<a name="Strategies"></a>
<h2>Strategies</h2>

<p>

<b>There are a number of methods I used to improve the detection system:</b>
</p>
<p>

First, I used an Aggregated Channel Feature (ACF) detection algorithm to train a new vehicle detector. Compared to the previous detection methods, ACF provides a more accurate detector that reduces false-positives, as the features are more robust to changes in colour, brightness. 

In terms of detection, the ACF algorithm generates bounding boxes that surround a specific vehicle in a frame. Over consecutive frames, the detector outputs multiple boxes, outlining the most likely locations of a vehicle.

</p>
<p>

To improve the accuracy of the bounding boxes, and enable the detection of multiple vechicles, I developed a heat-map algorithm (seen below) that provides a robust outline of where any number of vehicles are located within a frame. 


<img src="HeatFlow.png" alt="Heat Map" width="800">


If an object detector generates multiple bounding boxes for the same target, the algorithm takes the boxes and outputs a single combined result. For any given frame of video, bounding boxes generated by the detector are compared against each other to see if they overlap. If the bounded region of two or more boxes overlap, these boxes are grouped together in an array. Thus, each array generated by the algorithm contains every bounding box that attempts to annotate a specific object. The array of bounding boxes is then used to generate a single combined result, by determining the maximum X, maximum Y, minimum X, and minimum Y values of all the boxes within an array. These values are used to define the corners for the combined bounding boxes; given an origin at the bottom left of the video frame, the top left corner of the bounding box can be located at (Minimum X, Maximum Y), the top right corner at (Maximum X, Maximum Y), the bottom left corner at (Minimum X, Minimum Y) and the bottom right. After the bounding boxes have been generated, they are used to label and track vehicles throughout the frame. An outline of the entire system is seen below. 

<img src="FlowChart.png" alt="Flow Chart" width="800">

</p>

<a name="Outcomes"></a>
<h2>Outcomes</h2>

<p>

As of present, the strategies above have resulted in a more robust and accurate vehicle detector that can track vehicles throughout a frame. While used mostly for labeling vehicles with the camera, the system works smoothly on the S32V ADAS Hardware. The images below are a depiction of the vehicle detector with the simplified heatmap. 

</p>

<img src="heatmap3.jpg" alt="Heat Map" width="800">

<img src="heatmap1.jpg" alt="Heat Map" width="800">

<img src="heatmap2.jpg" alt="Heat Map" width="800">

                <div class="footdiv">
                <ul>
                    <li style="text-align:left">
                                                        <a href="Stop-Sign-Detection.html" class="prevlink">Stop Sign Detection</a>
                                            </li>
                    <li style="text-align:center">
                        <a href="chapters.html">Table of contents</a>
                    </li>
                    <li style="text-align:right">
                                                        <a href="Lane-Detection.html" class="nxtlink">Lane Detection</a>
                                            </li>
                </ul>
            </div>
        </div>
    <script type="text/javascript" src="sh/Scripts/shCore.js"></script>
    <script type="text/javascript" src="shBrushHaskell.js"></script>
    <script type="text/javascript" src="shBrushPlain.js"></script>
    <script type="text/javascript">
    dp.SyntaxHighlighter.ClipboardSwf = 'sh/Scripts/clipboard.swf';
    dp.SyntaxHighlighter.HighlightAll('code', false, false, false, 1, false);
    </script>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-4461592-3");
pageTracker._trackPageview();
</script>
</body>

<!-- Mirrored from learnyouahaskell.com/starting-out by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 15 Jul 2017 16:18:45 GMT -->
</html>
